<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Third Law - Law of Harmonies</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0a0a1a 0%, #1a1a2e 100%);
            color: #e0e0e0;
            line-height: 1.6;
            padding: 20px;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin: 30px 0 40px;
        }

        h1 {
            color: #4da6ff;
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 0 0 10px rgba(77, 166, 255, 0.3);
        }

        .nav-links {
            text-align: center;
            margin-bottom: 30px;
        }

        .nav-links a {
            display: inline-block;
            margin: 0 10px;
            padding: 10px 20px;
            background: rgba(77, 166, 255, 0.2);
            color: #4da6ff;
            text-decoration: none;
            border-radius: 8px;
            border: 2px solid rgba(77, 166, 255, 0.4);
            transition: all 0.3s ease;
        }

        .nav-links a:hover {
            background: rgba(77, 166, 255, 0.4);
            transform: translateY(-2px);
        }

        .law-section {
            background: rgba(30, 30, 50, 0.8);
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(77, 166, 255, 0.2);
        }

        .law-title {
            color: #ffa64d;
            font-size: 1.8em;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .law-number {
            background: linear-gradient(135deg, #ff6b35 0%, #ffa64d 100%);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5em;
            font-weight: bold;
            color: white;
            box-shadow: 0 4px 15px rgba(255, 166, 77, 0.4);
        }

        .law-description {
            margin: 20px 0;
            font-size: 1.05em;
            line-height: 1.8;
        }

        .canvas-container {
            background: rgba(10, 10, 26, 0.9);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            border: 1px solid rgba(77, 166, 255, 0.3);
        }

        canvas {
            display: block;
            margin: 0 auto;
            border-radius: 5px;
            width: 100%;
            max-width: 1280px;
        }

        .controls {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        button {
            background: linear-gradient(135deg, #4da6ff 0%, #0066cc 100%);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.95em;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(77, 166, 255, 0.3);
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(77, 166, 255, 0.5);
        }

        .checkbox-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 10px;
            margin: 15px 0;
        }

        .checkbox-label {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 12px;
            background: rgba(77, 166, 255, 0.1);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .checkbox-label:hover {
            background: rgba(77, 166, 255, 0.2);
        }

        .checkbox-label input[type="checkbox"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .checkbox-label.checked {
            border: 2px solid #4da6ff;
            background: rgba(77, 166, 255, 0.2);
        }

        .highlight {
            color: #ffa64d;
            font-weight: bold;
        }

        .info-box {
            background: rgba(77, 166, 255, 0.1);
            border-left: 4px solid #4da6ff;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }

        footer {
            text-align: center;
            margin: 50px 0 20px;
            color: #666;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Kepler's Third Law</h1>
        </div>

        <div class="nav-links">
            <a href="index.html">‚Üê Home</a>
            <a href="law2.html">‚Üê Second Law</a>
        </div>

        <div class="law-section">
            <div class="law-title">
                <div class="law-number">3</div>
                <span>The Law of Harmonies</span>
            </div>
            <div class="law-description">
                <p><span class="highlight">The square of a planet's orbital period is proportional to the cube of its semi-major axis.</span></p>
                <p>Mathematically: <span class="highlight">T¬≤ ‚àù a¬≥</span>, where T is the orbital period in <span class="highlight">Earth years</span> and a is the semi-major axis in <span class="highlight">astronomical units (AU)</span>. This means planets farther from the Sun take much longer to complete an orbit. When using these units, T¬≤/a¬≥ ‚âà 1 for all planets.</p>
            </div>
            <div class="canvas-container">
                <div class="checkbox-group">
                    <label class="checkbox-label">
                        <input type="checkbox" value="mercury" onchange="updatePlanets3()">
                        <span>Mercury</span>
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" value="venus" onchange="updatePlanets3()">
                        <span>Venus</span>
                    </label>
                    <label class="checkbox-label checked">
                        <input type="checkbox" value="earth" checked onchange="updatePlanets3()">
                        <span>Earth</span>
                    </label>
                    <label class="checkbox-label checked">
                        <input type="checkbox" value="mars" checked onchange="updatePlanets3()">
                        <span>Mars</span>
                    </label>
                    <label class="checkbox-label checked">
                        <input type="checkbox" value="jupiter" checked onchange="updatePlanets3()">
                        <span>Jupiter</span>
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" value="saturn" onchange="updatePlanets3()">
                        <span>Saturn</span>
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" value="uranus" onchange="updatePlanets3()">
                        <span>Uranus</span>
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" value="neptune" onchange="updatePlanets3()">
                        <span>Neptune</span>
                    </label>
                </div>
                <canvas id="canvas3" width="1280" height="720"></canvas>
                <div class="controls">
                    <button onclick="toggleAnimation3()">Pause/Resume</button>
                    <button onclick="resetAnimation3()">Reset</button>
                </div>
            </div>
            <div class="info-box">
                üí° Compare the orbital periods of different planets. Select up to 3 planets to see how their periods relate to their distances from the Sun following T¬≤ ‚àù a¬≥.
            </div>
        </div>

        <footer>
            <p>Interactive Visualization of Kepler's Laws Copyright 2025 R Mahoney</p>
        </footer>
    </div>

    <script>
        const planetData = {
            mercury: { eccentricity: 0.206, period: 0.24, semiMajorAxis: 0.387, color: '#8C7853', name: 'Mercury' },
            venus: { eccentricity: 0.007, period: 0.62, semiMajorAxis: 0.723, color: '#FFC649', name: 'Venus' },
            earth: { eccentricity: 0.017, period: 1.0, semiMajorAxis: 1.0, color: '#4A90E2', name: 'Earth' },
            mars: { eccentricity: 0.093, period: 1.88, semiMajorAxis: 1.524, color: '#E27B58', name: 'Mars' },
            jupiter: { eccentricity: 0.049, period: 11.86, semiMajorAxis: 5.203, color: '#C88B3A', name: 'Jupiter' },
            saturn: { eccentricity: 0.056, period: 29.46, semiMajorAxis: 9.537, color: '#FAD5A5', name: 'Saturn' },
            uranus: { eccentricity: 0.047, period: 84.01, semiMajorAxis: 19.191, color: '#4FD0E0', name: 'Uranus' },
            neptune: { eccentricity: 0.009, period: 164.79, semiMajorAxis: 30.069, color: '#4166F5', name: 'Neptune' }
        };

        const canvas3 = document.getElementById('canvas3');
        const ctx3 = canvas3.getContext('2d');
        let animating3 = true;

        const centerX3 = canvas3.width / 2;
        const centerY3 = canvas3.height / 2;

        // Reduced distances by 10% for better fit
        const planetConfigs = {
            mercury: { distance: 90, angle: 0, color: '#8C7853', size: 8 },
            venus: { distance: 135, angle: 0, color: '#FFC649', size: 12 },
            earth: { distance: 180, angle: 0, color: '#4A90E2', size: 12 },
            mars: { distance: 225, angle: 0, color: '#E27B58', size: 10 },
            jupiter: { distance: 288, angle: 0, color: '#C88B3A', size: 20 },
            saturn: { distance: 360, angle: 0, color: '#FAD5A5', size: 18 },
            uranus: { distance: 423, angle: 0, color: '#4FD0E0', size: 15 },
            neptune: { distance: 477, angle: 0, color: '#4166F5', size: 15 }
        };

        let selectedPlanets3 = ['earth', 'mars', 'jupiter'];

        function updatePlanets3() {
            const checkboxes = document.querySelectorAll('.checkbox-group input[type="checkbox"]');
            const newSelection = [];
            
            checkboxes.forEach(checkbox => {
                if (checkbox.checked) {
                    newSelection.push(checkbox.value);
                }
            });

            if (newSelection.length <= 3) {
                // Update selection and labels
                selectedPlanets3 = newSelection;
                checkboxes.forEach(checkbox => {
                    const label = checkbox.parentElement;
                    if (checkbox.checked) {
                        label.classList.add('checked');
                    } else {
                        label.classList.remove('checked');
                    }
                });
            } else {
                // More than 3 selected - uncheck the oldest selection
                const lastChecked = newSelection[newSelection.length - 1];
                const firstSelected = selectedPlanets3[0];
                
                // Uncheck the first one in our selection
                checkboxes.forEach(checkbox => {
                    if (checkbox.value === firstSelected) {
                        checkbox.checked = false;
                        checkbox.parentElement.classList.remove('checked');
                    }
                });
                
                // Update selection to remove first and add new
                selectedPlanets3.shift();
                selectedPlanets3.push(lastChecked);
            }
        }

        function drawThirdLaw() {
            ctx3.fillStyle = '#0a0a1a';
            ctx3.fillRect(0, 0, canvas3.width, canvas3.height);

            ctx3.fillStyle = '#FFD700';
            ctx3.beginPath();
            ctx3.arc(centerX3, centerY3, 30, 0, Math.PI * 2);
            ctx3.fill();

            const gradient = ctx3.createRadialGradient(centerX3, centerY3, 20, centerX3, centerY3, 60);
            gradient.addColorStop(0, 'rgba(255, 215, 0, 0.8)');
            gradient.addColorStop(1, 'rgba(255, 215, 0, 0)');
            ctx3.fillStyle = gradient;
            ctx3.beginPath();
            ctx3.arc(centerX3, centerY3, 60, 0, Math.PI * 2);
            ctx3.fill();

            selectedPlanets3.forEach(planetKey => {
                const config = planetConfigs[planetKey];
                const data = planetData[planetKey];

                ctx3.strokeStyle = config.color + '66';
                ctx3.lineWidth = 2;
                ctx3.beginPath();
                ctx3.arc(centerX3, centerY3, config.distance, 0, Math.PI * 2);
                ctx3.stroke();

                const planetX = centerX3 + config.distance * Math.cos(config.angle);
                const planetY = centerY3 + config.distance * Math.sin(config.angle);

                ctx3.fillStyle = config.color;
                ctx3.beginPath();
                ctx3.arc(planetX, planetY, config.size, 0, Math.PI * 2);
                ctx3.fill();

                ctx3.strokeStyle = 'rgba(255, 255, 255, 0.2)';
                ctx3.lineWidth = 1;
                ctx3.setLineDash([3, 3]);
                ctx3.beginPath();
                ctx3.moveTo(centerX3, centerY3);
                ctx3.lineTo(planetX, planetY);
                ctx3.stroke();
                ctx3.setLineDash([]);

                ctx3.fillStyle = '#e0e0e0';
                ctx3.font = '14px Arial';
                ctx3.fillText(data.name, planetX - 20, planetY - config.size - 8);

                if (animating3) {
                    config.angle -= 0.02 / data.period; // Negative for counterclockwise motion
                }
            });

            // Draw legend with three sections
            ctx3.fillStyle = '#e0e0e0';
            ctx3.font = '16px Arial';
            
            // Orbital Periods
            ctx3.fillText('Orbital Periods (T):', 30, 40);
            ctx3.font = '14px Arial';
            let yOffset = 65;
            selectedPlanets3.forEach(planetKey => {
                const data = planetData[planetKey];
                const config = planetConfigs[planetKey];
                ctx3.fillStyle = config.color;
                ctx3.fillRect(30, yOffset - 10, 15, 15);
                ctx3.fillStyle = '#e0e0e0';
                ctx3.fillText(`${data.name}: ${data.period.toFixed(2)} years`, 55, yOffset + 2);
                yOffset += 25;
            });

            // Semi-major Axes
            yOffset += 15;
            ctx3.font = '16px Arial';
            ctx3.fillText('Semi-major Axes (a):', 30, yOffset);
            ctx3.font = '14px Arial';
            yOffset += 25;
            selectedPlanets3.forEach(planetKey => {
                const data = planetData[planetKey];
                const config = planetConfigs[planetKey];
                ctx3.fillStyle = config.color;
                ctx3.fillRect(30, yOffset - 10, 15, 15);
                ctx3.fillStyle = '#e0e0e0';
                ctx3.fillText(`${data.name}: ${data.semiMajorAxis.toFixed(3)} AU`, 55, yOffset + 2);
                yOffset += 25;
            });

            // T¬≤/a¬≥ Ratio
            yOffset += 15;
            ctx3.font = '16px Arial';
            ctx3.fillText('T¬≤ / a¬≥ (should ‚âà 1):', 30, yOffset);
            ctx3.font = '14px Arial';
            yOffset += 25;
            selectedPlanets3.forEach(planetKey => {
                const data = planetData[planetKey];
                const config = planetConfigs[planetKey];
                const ratio = (data.period ** 2) / (data.semiMajorAxis ** 3);
                ctx3.fillStyle = config.color;
                ctx3.fillRect(30, yOffset - 10, 15, 15);
                ctx3.fillStyle = '#e0e0e0';
                ctx3.fillText(`${data.name}: ${ratio.toFixed(4)}`, 55, yOffset + 2);
                yOffset += 25;
            });

            requestAnimationFrame(drawThirdLaw);
        }

        function toggleAnimation3() {
            animating3 = !animating3;
        }

        function resetAnimation3() {
            Object.values(planetConfigs).forEach(config => {
                config.angle = 0;
            });
        }

        drawThirdLaw();
    </script>
</body>
</html>
